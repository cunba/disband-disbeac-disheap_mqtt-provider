"asyncapi: 2.4.0\ninfo:\n  title: Disband - Disbeac MQTT API\n  version: 1.0.0\n  description: >\n    The Disband - disbeac API allows you to remotely manage the disband and\n    disbeac.\n\n    ### Features:\n\n    * Recieve real-time information about enviromental pressure, humidity,\n    lightning and noise\n\n    * Recieve real-time information about a particular person heart-rate\n\n    * Pair disband and disbeac with a particular app account\n\n    * Recieve real-time information about the location of a particular disbeac\n\n    * Synchronize the disband with the configuration provided by the app\n\n    * Get to know if a particular disbeac is active\n\n    * Make vibrate the disband\n  license:\n    name: Apache 2.0\n    url: https://www.apache.org/licenses/LICENSE-2.0\nservers:\n  production:\n    url: 54.170.150.183:{port}\n    protocol: mqtt\n    description: Test broker\n    variables:\n      port:\n        description: Secure connection (TLS) is available through port 1883.\n        default: '1883'\n        enum:\n          - '1883'\n          - '80'\ndefaultContentType: application/json\nchannels:\n  disbands/action/{disbandId}/ambient-noise:\n    description: The topic on which measured values may be produced and consumed.\n    parameters:\n      disbandId:\n        $ref: '#/components/parameters/disbandId'\n    subscribe:\n      summary: Inform about environmental conditions of a particular band.\n      operationId: receiveDisbandAmbientNoise\n      traits:\n        - $ref: '#/components/operationTraits/mqtt'\n      message:\n        $ref: '#/components/messages/disbandMeasuredInformation'\n  disbands/action/{disbandId}/heart-rate:\n    description: The topic on which measured values may be produced and consumed.\n    parameters:\n      disbandId:\n        $ref: '#/components/parameters/disbandId'\n    subscribe:\n      summary: Inform about environmental conditions of a particular band.\n      operationId: receiveDisbandHeartRate\n      traits:\n        - $ref: '#/components/operationTraits/mqtt'\n      message:\n        $ref: '#/components/messages/disbandMeasuredInformation'\n  disbands/action/{disbandId}/humidity:\n    description: The topic on which measured values may be produced and consumed.\n    parameters:\n      disbandId:\n        $ref: '#/components/parameters/disbandId'\n    subscribe:\n      summary: Inform about environmental conditions of a particular band.\n      operationId: receiveDisbandHumidity\n      traits:\n        - $ref: '#/components/operationTraits/mqtt'\n      message:\n        $ref: '#/components/messages/disbandMeasuredInformation'\n  disbands/action/{disbandId}/lightning:\n    description: The topic on which measured values may be produced and consumed.\n    parameters:\n      disbandId:\n        $ref: '#/components/parameters/disbandId'\n    subscribe:\n      summary: Inform about environmental conditions of a particular band.\n      operationId: receiveDisbandLightning\n      traits:\n        - $ref: '#/components/operationTraits/mqtt'\n      message:\n        $ref: '#/components/messages/disbandMeasuredInformation'\n  disbands/action/{disbandId}/oxygen:\n    description: The topic on which measured values may be produced and consumed.\n    parameters:\n      disbandId:\n        $ref: '#/components/parameters/disbandId'\n    subscribe:\n      summary: Inform about environmental conditions of a particular band.\n      operationId: receiveDisbandOxygen\n      traits:\n        - $ref: '#/components/operationTraits/mqtt'\n      message:\n        $ref: '#/components/messages/disbandMeasuredInformation'\n  disbands/action/{disbandId}/pressure:\n    description: The topic on which measured values may be produced and consumed.\n    parameters:\n      disbandId:\n        $ref: '#/components/parameters/disbandId'\n    subscribe:\n      summary: Inform about environmental conditions of a particular band.\n      operationId: receiveDisbandPressure\n      traits:\n        - $ref: '#/components/operationTraits/mqtt'\n      message:\n        $ref: '#/components/messages/disbandMeasuredInformation'\n  disbands/action/{disbandId}/temperature:\n    description: The topic on which measured values may be produced and consumed.\n    parameters:\n      disbandId:\n        $ref: '#/components/parameters/disbandId'\n    subscribe:\n      summary: Inform about environmental conditions of a particular band.\n      operationId: receiveDisbandTemperature\n      traits:\n        - $ref: '#/components/operationTraits/mqtt'\n      message:\n        $ref: '#/components/messages/disbandMeasuredInformation'\n  disbands/action/{userId}/pair:\n    description: The topic on which pair the band\n    parameters:\n      userId:\n        $ref: '#/components/parameters/userId'\n    subscribe:\n      summary: Pair the band with the app account\n      operationId: pairBand\n      traits:\n        - $ref: '#/components/operationTraits/mqtt'\n      message:\n        $ref: '#/components/messages/pairDisbandInformation'\n  disbeacs/action/{userId}/pair:\n    description: The topic on which pair the disbeac\n    parameters:\n      userId:\n        $ref: '#/components/parameters/userId'\n    subscribe:\n      summary: Pair the disbeac with the app account and band\n      operationId: pairDisebac\n      traits:\n        - $ref: '#/components/operationTraits/mqtt'\n      message:\n        $ref: '#/components/messages/pairDisbeacInformation'\n  disbeacs/action/{disbeacId}/location:\n    description: The topic on which location may be produced and consumed\n    parameters:\n      disbeacId:\n        $ref: '#/components/parameters/disbeacId'\n    subscribe:\n      summary: Inform about the location of the disbeac\n      operationId: receivedDisbeacLocation\n      traits:\n        - $ref: '#/components/operationTraits/mqtt'\n      message:\n        $ref: '#/components/messages/disbeacLocationInformation'\n  disbands/event/{disbandId}/sync:\n    description: The topic on which sync the disband\n    parameters:\n      disbandId:\n        $ref: '#/components/parameters/disbandId'\n    publish:\n      operationId: sync\n      traits:\n        - $ref: '#/components/operationTraits/mqtt'\n      message:\n        $ref: '#/components/messages/disbandSyncInformation'\n  disbands/event/{disbandId}/sync/alarm:\n    description: The topic on which sync the new alarm into the disband\n    parameters:\n      disbandId:\n        $ref: '#/components/parameters/disbandId'\n    publish:\n      operationId: syncAlarm\n      traits:\n        - $ref: '#/components/operationTraits/mqtt'\n      message:\n        $ref: '#/components/messages/disbandAlarmInformation'\n  disbands/event/{disbandId}/sync/measureTimes:\n    description: >-\n      The topic on which sync the new configuration about the measure times into\n      a particular disband\n    parameters:\n      disbandId:\n        $ref: '#/components/parameters/disbandId'\n    publish:\n      operationId: syncMeasureTimes\n      traits:\n        - $ref: '#/components/operationTraits/mqtt'\n      message:\n        $ref: '#/components/messages/disbandMeasureTimesInformation'\n  disbeacs/event/{disbeacId}/active/{disbandId}:\n    description: >-\n      The topic where inform if a particular disbeac is active to a particular\n      disband\n    parameters:\n      disbeacId:\n        $ref: '#/components/parameters/disbeacId'\n      disbandId:\n        $ref: '#/components/parameters/disbandId'\n    publish:\n      operationId: disbeacActive\n      traits:\n        - $ref: '#/components/operationTraits/mqtt'\n      message:\n        $ref: '#/components/messages/disbeacActive'\n  disbands/event/{disbandId}/vibrate:\n    parameters:\n      disbandId:\n        $ref: '#/components/parameters/disbandId'\n    publish:\n      operationId: disbandVibrate\n      traits:\n        - $ref: '#/components/operationTraits/mqtt'\n      message:\n        $ref: '#/components/messages/disbandVibrate'\ncomponents:\n  messages:\n    disbandMeasuredInformation:\n      name: disbandMeasuredInformation\n      title: Disband measured information\n      summary: Inform about environmental band conditions of a particular band.\n      contentType: application/json\n      traits:\n        - $ref: '#/components/messageTraits/commonHeaders'\n      payload:\n        $ref: '#/components/schemas/disbandMeasureInformationPayload'\n    pairDisbandInformation:\n      name: pairDisbandInformation\n      title: Pair disband information\n      summary: The account information to which pair the band\n      contentType: application/json\n      traits:\n        - $ref: '#/components/messageTraits/commonHeaders'\n      payload:\n        $ref: '#/components/schemas/pairDisbandInformationPayload'\n    pairDisbeacInformation:\n      name: pairDisbeacInformation\n      title: Pair disband information\n      summary: The account information to which pair the band\n      contentType: application/json\n      traits:\n        - $ref: '#/components/messageTraits/commonHeaders'\n      payload:\n        $ref: '#/components/schemas/pairDisbeacInformationPayload'\n    disbeacLocationInformation:\n      name: disbeacLocationInformation\n      title: Disbeac location\n      summary: Inform about the location of a particular disbeac\n      contentType: application/json\n      traits:\n        - $ref: '#/components/messageTraits/commonHeaders'\n      payload:\n        $ref: '#/components/schemas/disbeacLocationInformationPayload'\n    disbandSyncInformation:\n      name: disbandSyncInformation\n      title: Disband Sync information\n      summary: Inform about the new confgiuration of a particular disband\n      contentType: application/json\n      traits:\n        - $ref: '#/components/messageTraits/commonHeaders'\n      payload:\n        $ref: '#/components/schemas/disbandSyncInformationPayload'\n    disbandAlarmInformation:\n      name: disbandAlarmInformation\n      title: Disband alarm information\n      summary: Inform about the new alarm of a particular disband\n      contentType: application/json\n      traits:\n        - $ref: '#/components/messageTraits/commonHeaders'\n      payload:\n        $ref: '#/components/schemas/disbandAlarmInformationPayload'\n    disbandMeasureTimesInformation:\n      name: disbandMeasureTimeInformation\n      title: Disband measure time information\n      summary: Inform about the new measure time of a particular disband\n      contentType: application/json\n      traits:\n        - $ref: '#/components/messageTraits/commonHeaders'\n      payload:\n        $ref: '#/components/schemas/disbandMeasureTimesInformationPayload'\n    disbeacActive:\n      name: disbeacActive\n      title: Disbeac is active\n      summary: Whether the disbeac is active or not\n      contentType: application/json\n      traits:\n        - $ref: '#/components/messageTraits/commonHeaders'\n      payload:\n        type: boolean\n    disbandVibrate:\n      name: disbandVibrate\n      title: Disband vibrate\n      summary: Whether the disband have to vibrate\n      contentType: application/json\n      traits:\n        - $ref: '#/components/messageTraits/commonHeaders'\n      payload:\n        type: boolean\n  schemas:\n    disbandMeasureInformationPayload:\n      type: object\n      properties:\n        data:\n          type: number\n        sentAt:\n          $ref: '#/components/schemas/sentAt'\n    pairDisbandInformationPayload:\n      type: object\n      properties:\n        userId:\n          type: string\n        sentAt:\n          $ref: '#/components/schemas/sentAt'\n    pairDisbeacInformationPayload:\n      type: object\n      properties:\n        userId:\n          type: string\n        disbandId:\n          type: string\n        sentAt:\n          $ref: '#/components/schemas/sentAt'\n    disbeacLocationInformationPayload:\n      type: object\n      properties:\n        latitude:\n          type: string\n        longitude:\n          type: string\n        sentAt:\n          $ref: '#/components/schemas/sentAt'\n    disbandSyncInformationPayload:\n      type: object\n      properties:\n        measures:\n          type: object\n          additionalProperties:\n            type: object\n        sentAt:\n          $ref: '#/components/schemas/sentAt'\n    disbandAlarmInformationPayload:\n      type: object\n      properties:\n        date:\n          type: number\n          format: int64\n        sentAt:\n          $ref: '#/components/schemas/sentAt'\n    disbandMeasureTimesInformationPayload:\n      type: object\n      properties:\n        sensors:\n          type: object\n          additionalProperties:\n            type: number\n        sentAt:\n          $ref: '#/components/schemas/sentAt'\n    sentAt:\n      type: number\n      format: int64\n      description: Date and time when the message was sent.\n  parameters:\n    disbandId:\n      description: The ID of the disband.\n      schema:\n        type: string\n    disbeacId:\n      description: The ID of the disbeac.\n      schema:\n        type: string\n    userId:\n      description: The userId of the app account\n      schema:\n        type: string\n  messageTraits:\n    commonHeaders:\n      headers:\n        type: object\n        properties:\n          my-app-header:\n            type: integer\n            minimum: 0\n            maximum: 100\n  operationTraits:\n    mqtt:\n      bindings:\n        mqtt:\n          qos: 1\n"